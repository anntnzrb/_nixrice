#!/bin/sh

# setbg --- Utility script to set a background/wallpaper.

# dependencies
! installed-p 'feh' && err "'feh' is needed to run this script" && exit 1

# wallpapers location
wp_path="${HOME}/lib/imgs/wallpapers"

# use defaults if argv[1] is null
test -z "${1}" && feh -rz --no-fehbg --bg-scale "${wp_path}"

# if argv[1] is a file, set it as wallpaper
test -f "${1}" && feh --no-fehbg --bg-scale "${1}"

# if argv[1] is a directory, randomly pick a file from that directory and
# set is as wallpaper
test -d "${1}" && feh -rz --no-fehbg --bg-scale "${1}"

# notify & exit
notify-send 'wallpaper updated...'
exit 0
