#!/bin/bash

# **
# dmenu dropdown with some system options
# *

# *****************************************************************************
# main
# *****************************************************************************
declare opts=("reboot
sleep
shutdown
end-x-session")

# non-systemd init systems (OpenRC missing)
case "$(readlink -f /sbin/init)" in
*runit*)
    zzz="sudo zzz"
    sdn="sudo poweroff"
    ;;
esac

CHOICE=$(printf '%s' "${opts[@]}" | dmenu -c -i -l 20 -bw 6 -fn "Overpass Mono" -p 'command: ')

case "$CHOICE" in
reboot)
    ${reb:-sudo reboot}
    ;;
sleep)
    ${zzz:-sudo systemctl suspend-then-hibernate}
    ;;
shutdown)
    ${sdn:-sudo shutdown -h now}
    ;;
end-x-session)
    pkill -9 Xorg
    ;;
esac
