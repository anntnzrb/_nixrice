#!/bin/sh

# gets the amount of pending packages
#
# only checks the cached amount of packages;
# meaning there needs to be a job that fetches updates

# checks if there's internet connection
fnIs_Net() {
    ping -q -c 1 1.1.1.1 >/dev/null 2>&1
}

if fnIs_Net; then
    # arch
    if [ -x "$(command -v "pacman")" ]; then
        pacman -Qu | grep -Fcv "[ignored]" | sed "s/^/ğŸ“¦ /;s/^ğŸ“¦ 0$//g"
    # void
    elif [ -x "$(command -v "xbps-install")" ]; then
        echo 'ğŸ“¦?'
    else
        echo 'ğŸ“¦?'
    fi
else
    echo 'ğŸ“¡âŒ'
fi
