#!/bin/sh

# **
# toggle a program if installed & running
#
# useful to toggle on the go;
# example would be toggling compositor;
# notifies with `dunst` if installed and `X` is running
# *

# -----------------------------------------------------------------------------
# preamble
# -----------------------------------------------------------------------------

# load utilities
# shellcheck disable=1090
. "$LIBSHUTILS/std-utils"

# -----------------------------------------------------------------------------
# main
# -----------------------------------------------------------------------------

if is_installed "$1"; then
    # if running, kill
    if is_running "$1"; then
        pkill -15 "$1"
        notify-send "'$1' terminated"
    else
        # if not running, start
        "$1" &
        notify-send "'$1' now running"
    fi
else
    notify-send "$1: unknown program"
    exit 1
fi
