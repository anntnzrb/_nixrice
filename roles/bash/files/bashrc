#!/usr/bin/env bash

# .bashrc --- Bash shell configuration file
#
# Code:
#
# shellcheck disable=1090
# follow non-constant sources

# do nothing if not running interactively
[[ ${-} != *i* ]] && return

# -----------------------------------------------------------------------------
# settings
# -----------------------------------------------------------------------------

# update the values of LINES and COLUMNS
test -n "${DISPLAY}" && shopt -s checkwinsize

## history
# clean up
test -e "${HOME}/.bash_history" \
    && rm "${HOME}/.bash_history" >/dev/null 2>&1

export HISTFILE="${HOME}/.local/bash_history"
export HISTCONTROL='ignoreboth'       # keep duplicates off
export HISTIGNORE='cd:ls:ll:exit:pwd' # commands to be ignored in history

# -----------------------------------------------------------------------------
# sourcing
# -----------------------------------------------------------------------------
# aliases, functions...

test -f "${HOME}/.config/sh/profile" && . "${HOME}/.config/sh/profile"
test -x "${SH_DIR}/aliasrc"          && . "${SH_DIR}/aliasrc"
test -x "${SH_DIR}/functionrc"       && . "${SH_DIR}/functionrc"

export STARSHIP_CONFIG="${HOME}/.config/starship/starship.toml"
eval "`starship init bash`"
