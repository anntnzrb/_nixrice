#!/bin/sh

# editor --- Utility to select text editor.

# editor of choice
ed="emacs"

case ${ed} in
gnu | emacs)
# if the script is ran via terminal, emacs is launched in terminal mode,
# launches GUI version otherwise;

tty >/dev/null 2>&1 && set -- --no-splash -nw "$@"
exec emacs --no-splash "$@"
;;

nvim) exec nvim ;;

# fallback editor
*)
installedp 'vi' && exec vi
installedp 'nano' && exec nano

# this line will only be reached if those above fail
err 'no editor was found, try using sed instead.' && exit 1
;;
esac
