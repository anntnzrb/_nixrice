#!/bin/sh

# eeddiittoor --- Open as $EDITOR.

# Commentary:
#
# This script tries to open editors in the order specified in the 'editors'
# variable. If none of the preferred editors are installed, it falls back to
# a desired fallback editor.
#
# Usage:
#   ./eeddiittoorr [file]
#
# Code:

# list of preferred editors
editors='neovim vim emacs'
fallback_editor='nano'

# try opening each editor (in order)
for ed in ${editors}; do
    case "${ed}" in
        neovim) cmd='nvim' ;;
        vim)    cmd='vim' ;;
        emacs)
            cmd='emacs'
            flags='-nw'
            ;;
        *) cmd='${ed}' ;;
    esac

    if test -x "$(command -v "${cmd}")"; then
        exec "${cmd}" ${flags} "${@}"
    fi
done

# fallback editor
exec "${fallback_editor}" "${@}"
