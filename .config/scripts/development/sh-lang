#!/bin/sh

#          ██
#         ░██
#   ██████░██
#  ██░░░░ ░██████
# ░░█████ ░██░░░██
#  ░░░░░██░██  ░██
#  ██████ ░██  ░██
# ░░░░░░  ░░   ░░

# run with elevated privileges if not
elevate_perms() { [ "$(id -u)" -ne 0 ] && exec sudo "$0" "$@"; }

# arch-based
[ -x "$(command -v "yay")" ] && {
    PKG_INSTALL="yay --needed --noconfirm -Syy"

    # [vim::ALE] (linter)
    $PKG_INSTALL shellcheck

    # [vim::ALE] (formatter)
    $PKG_INSTALL shfmt
}

# void
[ -x "$(command -v "xbps-install")" ] && {
    elevate_perms

    # [vim::ALE] (linter)
    xbps-install -Sy shellcheck

    # [vim::ALE] (formatter)
    xbps-install -Sy shfmt
}

# debian-based
[ -x "$(command -v "apt")" ] && {
    elevate_perms

    # [vim::ALE] (linter)
    apt-get install shellcheck -y
}
