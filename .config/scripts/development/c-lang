#!/bin/sh

#   █████
#  ██░░░██
# ░██  ░░
# ░██   ██
# ░░█████
#  ░░░░░

# run with elevated privileges if not already
elevate_perms() { [ "$(id -u)" -ne 0 ] && exec sudo "$0" "$@"; }

# arch-based
[ -x "$(command -v "yay")" ] && {
    PKG_INSTALL="yay --needed --noconfirm -Syy"
    # compiler
    $PKG_INSTALL gcc

    # language server
    $PKG_INSTALL clang

    # ctags
    $PKG_INSTALL ctags

    # [vim::ALE] (formatter)
    $PKG_INSTALL uncrustify
}

# void
[ -x "$(command -v "xbps-install")" ] && {
    elevate_perms

    # compiler
    xbps-install -Sy gcc

    ## ALE
    # fixer
    xbps-install -Sy uncrustify
}

# debian based
[ -x "$(command -v "apt")" ] && {
    elevate_perms

    # language server
    apt-get install -y clangd

    # [vim::ALE] (formatter)
    apt-get install -y uncrustify
}
